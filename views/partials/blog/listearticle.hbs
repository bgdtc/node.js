{{! LISTE DES ARTICLES }}
<section class="container  pb-5 pt-5">

  {{!-- TITRES PAGE --}}
  <div class=" pt-5 border-bottom border-1 border-primary">
    <h3 class="tist text-center bg-gradient fw-bold rounded">Articles récents</h3>
  </div>

  <!-- AFFICHAGE CARDS DB -->
  {{#if home }}
  <div class="row">
    {{#each ( limitArray dbArticle 3 )}}
    <div class="py-5 col-md-4 pt-3 pb-2">
      <div class="card bg-dark tist border-3 border-primary">
        <img src="{{ image }}" class="card-img-top" height="200px" alt="" />

        {{!-- TITRE DESCRIPTION ET ID DE L'ARTICLE --}}
        <div class="card-body text-center">
          <h2 class="card-title text-white text-center">{{ upcase title}}</h2>
          <p class="card-text fw-bold"> {{description}} {{id}} </p>
          {{#if ../user}}
          <a class="btn btn-primary" href="/article/{{id}}">Lire la suite</a>
          {{else}}
          <div class="">
            <div style="height: 90px;" class="alert   alert-danger" role="alert">
              il faut <span><a href="/auth">être connecté</a></span> pour lire les articles !
            </div>
          </div>
          {{/if}}
        </div>
      </div>
    </div>
    {{/each}}
  </div>
  {{else}}
  {{!-- searchbar --}}
  <div class="pt-4">
    <input type="search" class="form-control w-100" id="search" onkeyup="filtre()"
      placeholder="Rechercher dans les articles">
  </div>
  {{!-- cards --}}
  <div id="myCard" class="row pt-5 pb-5">
    {{#each dbArticle}}
    <div class="col-md-4 pb-2   " id="">
      {{!-- IMAGE DB --}}
      <div class="mb-5 card bg-dark tist border-3 border-primary" id="" style="width: auto;">
        <img src="{{ image }}" class="card-img-top" alt="" height="250px" />
        {{!-- TITRE DESCRIPTION ET ID DE L'ARTICLE --}}
        <div class="card-body text-center">
          <h2 id="content" class="card-title text-center text-white mb-4">{{title}}</h2>
          <p class="card-text fw-bold"> {{description}} écrit par: {{author_name}} </p>
          {{#if ../user}}
          <div class="">
            <a class="btn btn-primary" href="/article/{{id}}">Lire la suite</a>
          </div>
          {{else}}
          {{!-- <div class="alert alert-danger" role="alert">
            Seuls les utilisateurs <span><a href="/auth">connectés</a></span> peuvent lire les articles !
          </div> --}}
          {{/if}}
        </div>
      </div>
    </div>
  </div>
  {{/each}}
  {{/if}}
  </div>
</section>
<script>
 function filtre() {
        var input, filter, div1, div2, h2, i, txtValue;
        input = document.getElementById('search');
        filter = input.value.toUpperCase();
        div1 = document.getElementById("myCard");
        div2 = div1.getElementsByTagName('div');
        for (i = 0; i < div2.length; i++) {
            h2 = div2[i].getElementsByTagName("h2")[0];
            console.log('INFO DE H2 :', h2)
            txtValue = h2.textContent || h2.innerText;
            console.log('INFO DE TXTVALUE :', txtValue)
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                div2[i].style.display = "";
            } else {
                div2[i].style.display = "none";
            }
        }
    }

</script>

<script>
  function checkID() {
    console.log(document.getElementById('id').innerText)
    console.log('bonjour')
  }





</script>

<style>
  .tes:hover {
    background-color: white !important;
  }

  #myCard {
    max-height: 600px;
  }
</style>



{{!-- //
$$$$$$$\ $$$$$$\ $$$$$$$\ $$$$$$$$\ $$$$$$\
$$ __$$\ $$ __$$\ $$ __$$\\__$$ __|$$ __$$\
$$ | $$ |$$ / \__|$$ | $$ | $$ | $$ / \__|
$$$$$$$\ |$$ |$$$$\ $$ | $$ | $$ | $$ |
$$ __$$\ $$ |\_$$ |$$ | $$ | $$ | $$ |
$$ | $$ |$$ | $$ |$$ | $$ | $$ | $$ | $$\
$$$$$$$ |\$$$$$$ |$$$$$$$ | $$ | \$$$$$$ |
\_______/ \______/ \_______/ \__| \______/

--}}